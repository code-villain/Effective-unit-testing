# 01 좋은 테스트의 약속

코딩을 할 때 System.out.println() 을 남발하며 테스트를 하던 때가 있었다.
이런 방식으로 코딩을 해놓으면 잘못된 곳을 찾기 위해 println 을 조금씩 추가하며 코드를 들쑤셔야 한다.

이제는 더 좋은 테스트를 해야 한다!?

테스트 선행 방식에서는 자동화된 테스트를 단순한 오류 예방 목적으로뿐 아니라
코딩 전에 그 코드에 기대하는 동작을 정의하는 설계 보조 수단으로까지 활용한다
구현까지 다 끝나야 검증을 시작하는 게 아니라 애초에 설계부터 검증하고 들어가는 것이다

## 1.2 테스트의 가치

좋은 테스트가 왜 필요할까?
- 테스트는 실수를 바로잡아준다
- 테스트는 실사용에 적합한 설계를 이끌어낸다.
- 테스트는 원하는 동작을 명확히 알려주어 군더더기를 없애준다 (딱 필요한 기능만 담을 수 있게 해준다)

테스트를 단순히 검증도구가 아닌, 설계도구로써 활용할 수 있도록 노력하자

## 1.2.1 생산성에 영향을 주는 요소

생산성에 직접 영향을 주는 요소는 피드백 주기와 디버깅 시간 이다. 실수하자마자 곧바로 알아차릴 수만 있다면 디버깅 시간을 줄일 수 있다

- 테스트 실행속도
- 테스트 가독성
- 테스트 결과의 정확성

## 1.3 설계 수단으로써의 테스트

테스트 목적
- 코드를 작성하는 즉시 정확하게 구현했는지 검사하기 위해
- 코드베이스가 커져도 계속 잘 동작하는지 지속적으로 확인하기 위해

이는 검증 수단으로만 테스트를 활용하는 것이다

설계 수단으로 테스트를 이용해보자
설계 -> 코딩 -> 테스트 의 순서를 테스트 -> 코딩 -> 설계(리팩토링) 로 바꾸는 것이다

테스트 주도 개발(TDD)
실패하는 테스트를 작성하는 것으로 시작하여, 테스트를 성공하게 만드는 코드를 작성하고, 작성된 코드의 설계를 개선하는 리팩토링으로 마무리~

## 1.3.1 테스트 주도 개발 (TDD)

실패하는 테스트 없이는 코드를 작성하지 않는다.

테스트를 먼저 작성하면 테스트로 설계한 제품 코드가 만들어진다
- 사용가능한 코드가 만들어진다. 즉 제품 코드의 설계와 api 가 활용 시나리오에 적합한 모습으로 거듭난다
- 코드가 가벼워진다. 즉 실제로 활용할 시나리오에서 요구하는 기능만을 담게 된다

작은 테스트 실패 후에 통과시킨다 -> 딱 통과할 정도만 제품 코드를 손봐준다는 명확한 목표가 생기게 된다
설계를 간결하면서도 목적에 딱 맞도록 유지할 수 있다. 우발적 복잡성을 막을 수 있다

## 1.3.2 행위 주도 개발 (BDD)

TDD 에서 테스트가 들어가야 할 자리를 행위로 바꿔 사용한다
테스트의 이름을 짓는 건 검사하려는 행위를 기술하는 하나의 문장이면 된다.

행위를 위주로 테스트를 작성하면 시스템의 행위를 기술하기 쉬워지고 비즈니스 관계자를 이해시키기 쉽다.
