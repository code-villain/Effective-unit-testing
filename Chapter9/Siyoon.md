# Chapter 9 테스트 속도 개선

## 1. 원인파악하기
1. 빌드 프로파일링하기
    - 메이븐이나 앤트같은 빌드 툴의 프로파일링을 이용하여서 빌드 하는 동안 **어떤 구간**에서 성능 문제가 발생하는지 확인해 볼 수 있다.
2. 테스트 프로파일링 하기
    - 메이븐이나 앤트가은 빌드 투르이 테스트 보고서를 이용하여서 어떤 테스트가 느린 테스트인지 확인해 볼 수 있다.

## 2. 테스트 코드 속도 높이기
1. 잠자는 달팽이 냄새를 조심하자. (Thread.sleep()을 쓰지말자)
2. 무거운 상위(기반)클래스를 조심하자. JUnit은 모든 계층구조를 항상 탐색한다.
3. 불필요한 셋업과 티어다운을 경계한다. @Before는 매 테스트 마다 실행되는데, 한번만 실행해도 된다면 @BeforeClass를 사용하자.
4. 관련 없는 협력객체를 잘라내어 테스트 범위를 가능한 좁혀준다.
5. 클라우드 서비스 사용을 지양하고 로컬하게 유지하라.
6. 데이터베이스 사용을 지양하라. (가짜 객체 사용)
7. 파일I/O 사용을 지양하라. (가짜 객체, 로깅끄기) p269

## 3. 빌드 속도 높이기
1. 램 디스크를 활용하여 I/O 속도 올리기 p273
2. 빌드 병렬화하기 p274
3. 클라우드 컴퓨터로 빌드하기 p280
4. GridGain프레임워크로 분산 실행하기 p285

---

# 키워드 정리
> 테스트에 적합한 언어들이 제공하는 간결한 문법과 가독성이라는 장점이 있다 하더라도, 모든 팀원들이 해당 언어에 대해서 잘 모른다면 덜컥 쓰기는 어렵겠죠? 회사 내에서 스터디나 토이 프로젝트를 할 기회가 있다면 그때 시도해보고 점진적으로 도입하면 좋겠네요. 
- A) 중요한건 팀내 협의

> Junit @rule 유용할거 같은데 실제로 쓰는 코드를 못찾겠다
- A)

> 231 2020년은 다언어 프로그래밍 시대인가? 그닥?
- A) 

> 티어다운 메서드
- A) 사전적의미는 '분해, 해체'

> @Rule
- A) https://nesoy.github.io/articles/2018-12/Junit-Rule

> 263 @Before, @After 대신 @BeforeClass, @AfterClass ?
- A) p295 "Before와 After와는 다르게 테스트 메서드 단위가 아닌 테스트 클래스당 한번씩 실행된다."
https://medium.com/@ani.sam2015/all-about-setup-and-teardown-fc5af6ac6f03

> 테스트에 적합한 언어를 소개해줬는데. 테스트만을 위한 언어가 좋을?지 모르겠당..그냥 자바로 하는게 혼동이 없지 않을까... 
- A) 프론트의 JS를 생각한다면 여러 언어로 생기는 혼동은 과도기를 잘 넘기면 되지 않을까. 미끼로써의 역할도 있고,
**중요한건 팀내 협의** 

> 제품 코드도 자바인데
- A) 앞으로 MSA가 더 유행한다고 보면 다언어가 자연스럽게 될 거 같습니다.
  